Index: crm/src/main/java/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.bjpowernode.crm.workbench.service.impl;\r\n\r\nimport com.bjpowernode.crm.workbench.mapper.ActivityMapper;\r\nimport com.bjpowernode.crm.workbench.pojo.Activity;\r\nimport com.bjpowernode.crm.workbench.service.ActivityService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * @BelongsProject: Code\r\n * @BelongsPackage: com.bjpowernode.crm.workbench.service.impl\r\n * @Author: dushicheng\r\n * @CreateTime: 2022-06-17  16:26\r\n * @Description: TODO\r\n * @Version: 1.0\r\n */\r\n@Service(\"activityService\")\r\npublic class AvtivityServiceImpl implements ActivityService {\r\n    @Autowired\r\n    private ActivityMapper activityMapper;\r\n    @Override\r\n    public int saveCreateActivity(Activity activity) {\r\n        return activityMapper.insertActivity(activity);\r\n    }\r\n\r\n    @Override\r\n    public List<Activity> queryActivityByConditionForPage(Map<String, Object> map) {\r\n        return activityMapper.selectActivityByConditionForPage(map);\r\n    }\r\n\r\n    @Override\r\n    public int queryCountOfActivityByCondition(Map<String, Object> map) {\r\n        return activityMapper.selectCountOfActivityByCondition(map);\r\n    }\r\n\r\n    @Override\r\n    public int deleteActivityByIds(String[] ids) {\r\n        return activityMapper.deleteActivityByIds(ids);\r\n    }\r\n\r\n    @Override\r\n    public Activity queryActivityById(String id) {\r\n        return activityMapper.selectActivityById(id);\r\n    }\r\n\r\n    @Override\r\n    public int saveEditActivity(Activity activity) {\r\n        return activityMapper.updateActivity(activity);\r\n    }\r\n\r\n    @Override\r\n    public List<Activity> queryAllActivitys() {\r\n        return activityMapper.selectAllActivitys();\r\n    }\r\n\r\n//    @Override\r\n//    public int saveActivityByList(List<Activity> activityList) {\r\n//        return activityMapper.insertActivityByList(activityList);\r\n//    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.java	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.java	(date 1656817760994)
@@ -60,4 +60,8 @@
 //    public int saveActivityByList(List<Activity> activityList) {
 //        return activityMapper.insertActivityByList(activityList);
 //    }
+    @Override
+    public int saveActivityByList(List<Activity> activityList) {
+        return activityMapper.insertActivityByList(activityList);
+    }
 }
Index: crm/src/main/java/com/bjpowernode/crm/commons/utils/HSSFUtils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.bjpowernode.crm.commons.utils;\r\n\r\nimport com.bjpowernode.crm.workbench.pojo.Activity;\r\nimport com.bjpowernode.crm.workbench.service.ActivityService;\r\nimport org.apache.poi.hssf.usermodel.HSSFCell;\r\nimport org.apache.poi.hssf.usermodel.HSSFRow;\r\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\r\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\n\r\n/**\r\n * @BelongsProject: Code\r\n * @BelongsPackage: com.bjpowernode.crm.commons.utils\r\n * @Author: dushicheng\r\n * @CreateTime: 2022-06-25  08:47\r\n * @Description: TODO\r\n * @Version: 1.0\r\n */\r\npublic class HSSFUtils {\r\n\r\n    public static void createExcelByActivityList(List<Activity> activityList,String fileName, HttpServletResponse response) throws Exception\r\n    {\r\n\r\n        HSSFWorkbook wb = new HSSFWorkbook();\r\n        HSSFSheet sheet = wb.createSheet(\"市场活动列表\");\r\n        HSSFRow row = sheet.createRow(0);\r\n\r\n        HSSFCell cell = row.createCell(0);\r\n        cell.setCellValue(\"ID\");\r\n        cell = row.createCell(1);\r\n        cell.setCellValue(\"所有者\");\r\n        cell = row.createCell(2);\r\n        cell.setCellValue(\"名称\");\r\n        cell = row.createCell(3);\r\n        cell.setCellValue(\"开始日期\");\r\n        cell = row.createCell(4);\r\n        cell.setCellValue(\"结束日期\");\r\n        cell = row.createCell(5);\r\n        cell.setCellValue(\"成本\");\r\n        cell = row.createCell(6);\r\n        cell.setCellValue(\"描述\");\r\n        cell = row.createCell(7);\r\n        cell.setCellValue(\"创建时间\");\r\n        cell = row.createCell(8);\r\n        cell.setCellValue(\"创建者\");\r\n        cell = row.createCell(9);\r\n        cell.setCellValue(\"修改时间\");\r\n        cell = row.createCell(10);\r\n        cell.setCellValue(\"修改者\");\r\n\r\n        if (activityList != null &&activityList.size()>0) {\r\n            Activity activity = null;\r\n            for (int i = 0; i < activityList.size(); i++) {\r\n                activity = activityList.get(i);\r\n                row = sheet.createRow(i + 1);\r\n\r\n\r\n                cell = row.createCell(0);\r\n                cell.setCellValue(activity.getId());\r\n\r\n                cell = row.createCell(1);\r\n                cell.setCellValue(activity.getOwner());\r\n\r\n                cell = row.createCell(2);\r\n                cell.setCellValue(activity.getName());\r\n\r\n                cell = row.createCell(3);\r\n                cell.setCellValue(activity.getCreateTime());\r\n\r\n                cell = row.createCell(4);\r\n                cell.setCellValue(activity.getEndDate());\r\n\r\n                cell = row.createCell(5);\r\n                cell.setCellValue(activity.getCost());\r\n\r\n                cell = row.createCell(6);\r\n                cell.setCellValue(activity.getDescription());\r\n\r\n                cell = row.createCell(7);\r\n                cell.setCellValue(activity.getCreateTime());\r\n\r\n                cell = row.createCell(8);\r\n                cell.setCellValue(activity.getCreateBy());\r\n\r\n                cell = row.createCell(9);\r\n                cell.setCellValue(activity.getEditTime());\r\n\r\n                cell = row.createCell(10);\r\n                cell.setCellValue(activity.getEditBy());\r\n            }\r\n        }\r\n        response.setContentType(\"application/octet-stream;charset=UTF-8\");\r\n        response.addHeader(\"Content-Disposition\",\"attachment;filename=\" + fileName);\r\n        OutputStream out = response.getOutputStream();\r\n        wb.write(out); // 将wb对象内存中的所有市场活动数据直接转入输出流内存中\r\n        wb.close(); // 关闭资源\r\n        out.flush(); // 刷新资源\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/commons/utils/HSSFUtils.java	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/commons/utils/HSSFUtils.java	(date 1656818499931)
@@ -100,4 +100,52 @@
         wb.close(); // 关闭资源
         out.flush(); // 刷新资源
     }
+
+    public static String getCellValueForStr(HSSFCell cell){
+        String ret = "";
+//        if(cell.getCellType() == HSSFCell.CELL_TYPE_STRING) {
+//            ret = cell.getStringCellValue();
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_NUMERIC) {
+//            ret = cell.getNumericCellValue() + "";
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_BOOLEAN) {
+//            ret = cell.getBooleanCellValue() + "";
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_FORMULA) {
+//            ret = cell.getCellFormula();
+//        } else {
+//            ret = "";
+//        }
+        switch (cell.getCellType()){
+            case HSSFCell.CELL_TYPE_STRING :
+                ret = cell.getStringCellValue();
+                break;
+            case HSSFCell.CELL_TYPE_NUMERIC :
+                ret = cell.getNumericCellValue() + "";
+                break;
+            case HSSFCell.CELL_TYPE_BOOLEAN :
+                ret = cell.getBooleanCellValue() + "";
+                break;
+            case   HSSFCell.CELL_TYPE_FORMULA :
+                ret = cell.getCellFormula();
+            default:
+                ret = "";
+        }
+
+        return ret;
+    }
+//
+//    public static String getCellValueForStr(HSSFCell cell) {
+//        String ret = "";
+//        if(cell.getCellType() == HSSFCell.CELL_TYPE_STRING) {
+//            ret = cell.getStringCellValue();
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_NUMERIC) {
+//            ret = cell.getNumericCellValue() + "";
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_BOOLEAN) {
+//            ret = cell.getBooleanCellValue() + "";
+//        } else if(cell.getCellType() == HSSFCell.CELL_TYPE_FORMULA) {
+//            ret = cell.getCellFormula();
+//        } else {
+//            ret = "";
+//        }
+//        return ret;
+//    }
 }
Index: crm/src/main/java/com/bjpowernode/crm/workbench/service/ActivityService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.bjpowernode.crm.workbench.service;\r\n\r\nimport com.bjpowernode.crm.workbench.pojo.Activity;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n/**\r\n * @BelongsProject: Code\r\n * @BelongsPackage: com.bjpowernode.crm.workbench.service\r\n * @Author: dushicheng\r\n * @CreateTime: 2022-06-16  23:13\r\n * @Description: TODO\r\n * @Version: 1.0\r\n */\r\n\r\npublic interface ActivityService {\r\n    //添加记录\r\n    int saveCreateActivity(Activity activity);\r\n    //查询符合的列表\r\n    List<Activity> queryActivityByConditionForPage(Map<String,Object> map);\r\n    //符合查询的条数\r\n    int queryCountOfActivityByCondition(Map<String,Object> map);\r\n    //根据ids批量删除数据\r\n    int deleteActivityByIds(String[] ids);\r\n    //通过id查询市场活动\r\n    Activity queryActivityById(String id);\r\n    //更新市场活动信息\r\n    int saveEditActivity(Activity activity);\r\n    //查询所有市场活动\r\n    List<Activity> queryAllActivitys();\r\n    //根據上傳文件向表中插入數據\r\n//    int saveActivityByList(List<Activity> activityList);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/workbench/service/ActivityService.java	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/workbench/service/ActivityService.java	(date 1656817732788)
@@ -31,5 +31,6 @@
     //查询所有市场活动
     List<Activity> queryAllActivitys();
     //根據上傳文件向表中插入數據
-//    int saveActivityByList(List<Activity> activityList);
+   // int saveActivityByList(List<Activity> activityList);
+    int saveActivityByList(List<Activity> activityList);
 }
Index: crm/src/main/java/com/bjpowernode/crm/workbench/web/controller/ActivateController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.bjpowernode.crm.workbench.web.controller;\r\n\r\nimport com.bjpowernode.crm.commons.contants.Contants;\r\nimport com.bjpowernode.crm.commons.pojo.ReturnObject;\r\nimport com.bjpowernode.crm.commons.utils.DateUtils;\r\nimport com.bjpowernode.crm.commons.utils.HSSFUtils;\r\nimport com.bjpowernode.crm.commons.utils.UUIDUtils;\r\nimport com.bjpowernode.crm.settings.pojo.User;\r\nimport com.bjpowernode.crm.settings.service.UserService;\r\nimport com.bjpowernode.crm.workbench.pojo.Activity;\r\nimport com.bjpowernode.crm.workbench.service.ActivityService;\r\nimport org.apache.poi.hssf.usermodel.HSSFCell;\r\nimport org.apache.poi.hssf.usermodel.HSSFRow;\r\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\r\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport javax.servlet.ServletOutputStream;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * @BelongsProject: Code\r\n * @BelongsPackage: com.bjpowernode.crm.workbench.web.controller\r\n * @Author: dushicheng\r\n * @CreateTime: 2022-06-16  17:11\r\n * @Description: TODO\r\n * @Version: 1.0\r\n */\r\n@Controller\r\npublic class ActivateController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private ActivityService activityService;\r\n\r\n\r\n\r\n    @RequestMapping(\"/workbench/activity/index.do\")\r\n    public String index(HttpServletRequest request){\r\n        //拿到用户列表\r\n        List<User> userList = userService.queryAllUsers();\r\n        //把数据保存到作用域中\r\n        request.setAttribute(\"userList\",userList);\r\n        //请求转发带数据，转发到市场活动\r\n        return \"/workbench/activity/index\";\r\n    }\r\n\r\n    @RequestMapping(\"/workbench/activity/saveCreateActivity.do\")\r\n    @ResponseBody\r\n    public Object saveCreateActivity(Activity activity, HttpSession session){\r\n\r\n        User user = (User)session.getAttribute(Contants.SESSION_USER);\r\n        activity.setId(UUIDUtils.getUUID());\r\n        activity.setCreateTime(DateUtils.formateDateTime(new Date()));\r\n        activity.setCreateBy(user.getId());\r\n        ReturnObject returnObject = new ReturnObject();\r\n\r\n        try {\r\n            // 保存创建的市场活动\r\n            int res = activityService.saveCreateActivity(activity);\r\n            if (res > 0) { // 保存成功\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);\r\n            } else { // 保存失败，服务器端出了问题，为了不影响顾客体验，最好不要直接说出问题\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n                returnObject.setMessage(\"系统繁忙\");\r\n            }\r\n        }catch (Exception exception){\r\n            exception.printStackTrace();\r\n            returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n            returnObject.setMessage(\"系统忙请稍后再试.......\");\r\n        }\r\n\r\n        return returnObject;\r\n    }\r\n\r\n    @RequestMapping(\"/workbench/activity/queryActivityByConditionForPage.do\")\r\n    @ResponseBody\r\n    public Object queryActivityByConditionForPage(String name,String owner,String startDate,String endDate,\r\n                                                  int pageNo,int pageSize){\r\n        //封装参数\r\n        Map<String, Object> map = new HashMap<>();\r\n        map.put(\"name\",name);\r\n        map.put(\"owner\",owner);\r\n        map.put(\"startDate\",startDate);\r\n        map.put(\"endDate\",endDate);\r\n        map.put(\"beginNo\",(pageNo-1)*pageSize);\r\n        map.put(\"pageSize\",pageSize);\r\n        List<Activity> activityList = activityService.queryActivityByConditionForPage(map);\r\n        //查询总条数\r\n        int totalRows = activityService.queryCountOfActivityByCondition(map);\r\n\r\n        Map<String, Object> retMap = new HashMap<>();\r\n        retMap.put(\"activityList\",activityList);\r\n        retMap.put(\"totalRows\",totalRows);\r\n        return retMap;\r\n    }\r\n\r\n    @RequestMapping(\"workbench/activity/deleteActivityByIds.do\")\r\n    @ResponseBody\r\n    public Object deleteActivityByIds(String[] id){\r\n        ReturnObject returnObject = new ReturnObject();\r\n        try {\r\n            int ret = activityService.deleteActivityByIds(id);\r\n            if (ret >0 ) {\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);\r\n            }else{\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n                System.out.println(\"-------------------------------\");\r\n                returnObject.setMessage(\"系统忙。。。。。\");\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n            returnObject.setMessage(\"系统忙。。。。。\");\r\n        }\r\n        return returnObject;\r\n    }\r\n\r\n    @RequestMapping(\"workbench/activity/queryActivityById.do\")\r\n    @ResponseBody\r\n    public Object queryActivityById(String id){\r\n        Activity activity = activityService.queryActivityById(id);\r\n        return activity;\r\n    }\r\n    @RequestMapping(\"workbench/activity/saveEditActivity.do\")\r\n    @ResponseBody\r\n    public Object saveEditActivity(Activity activity,HttpSession session){\r\n        activity.setEditTime(DateUtils.formateDateTime(new Date()));\r\n        User user =(User) session.getAttribute(Contants.SESSION_USER);\r\n        ReturnObject returnObject = new ReturnObject();\r\n        try {\r\n            int ret = activityService.saveEditActivity(activity);\r\n            if (ret > 0) {\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);\r\n            }else {\r\n                returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n                returnObject.setMessage(\"系统忙\");\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);\r\n            returnObject.setMessage(\"系统忙\");\r\n        }\r\n        return returnObject;\r\n    }\r\n\r\n    @RequestMapping(\"workbench/activity/exportAllActivity.do\")\r\n    public void exportAllActivitys  (HttpServletResponse response) throws Exception{\r\n        List<Activity> activityList = activityService.queryAllActivitys();\r\n        HSSFUtils.createExcelByActivityList(activityList,\"activitylist.xls\",response);\r\n//        //创建excl文件\r\n//        HSSFWorkbook wb = new HSSFWorkbook();\r\n//        HSSFSheet sheet = wb.createSheet(\"市场活动列表\");\r\n//        HSSFRow row = sheet.createRow(0);\r\n//\r\n//        HSSFCell cell = row.createCell(0);\r\n//        cell.setCellValue(\"ID\");\r\n//        cell = row.createCell(1);\r\n//        cell.setCellValue(\"所有者\");\r\n//        cell = row.createCell(2);\r\n//        cell.setCellValue(\"名称\");\r\n//        cell = row.createCell(3);\r\n//        cell.setCellValue(\"开始日期\");\r\n//        cell = row.createCell(4);\r\n//        cell.setCellValue(\"结束日期\");\r\n//        cell = row.createCell(5);\r\n//        cell.setCellValue(\"成本\");\r\n//        cell = row.createCell(6);\r\n//        cell.setCellValue(\"描述\");\r\n//        cell = row.createCell(7);\r\n//        cell.setCellValue(\"创建时间\");\r\n//        cell = row.createCell(8);\r\n//        cell.setCellValue(\"创建者\");\r\n//        cell = row.createCell(9);\r\n//        cell.setCellValue(\"修改时间\");\r\n//        cell = row.createCell(10);\r\n//        cell.setCellValue(\"修改者\");\r\n//\r\n//        if (activityList != null &&activityList.size()>0) {\r\n//            Activity activity=null;\r\n//            for (int i = 0; i < activityList.size(); i++) {\r\n//                activity = activityList.get(i);\r\n//                row = sheet.createRow(i + 1);\r\n//\r\n//\r\n//                cell = row.createCell(0);\r\n//                cell.setCellValue(activity.getId());\r\n//\r\n//                cell = row.createCell(1);\r\n//                cell.setCellValue(activity.getOwner());\r\n//\r\n//                cell = row.createCell(2);\r\n//                cell.setCellValue(activity.getName());\r\n//\r\n//                cell = row.createCell(3);\r\n//                cell.setCellValue(activity.getCreateTime());\r\n//\r\n//                cell = row.createCell(4);\r\n//                cell.setCellValue(activity.getEndDate());\r\n//\r\n//                cell = row.createCell(5);\r\n//                cell.setCellValue(activity.getCost());\r\n//\r\n//                cell = row.createCell(6);\r\n//                cell.setCellValue(activity.getDescription());\r\n//\r\n//                cell = row.createCell(7);\r\n//                cell.setCellValue(activity.getCreateTime());\r\n//\r\n//                cell = row.createCell(8);\r\n//                cell.setCellValue(activity.getCreateBy());\r\n//\r\n//                cell = row.createCell(9);\r\n//                cell.setCellValue(activity.getEditTime());\r\n//\r\n//                cell = row.createCell(10);\r\n//                cell.setCellValue(activity.getEditBy());\r\n//            }\r\n//        }\r\n//        //根据wb生成输出流\r\n////        OutputStream os = new FileOutputStream(\"D:\\\\Code\\\\crm\\\\src\\\\main\\\\resources\\\\uplode\\\\activitylist.xls\");\r\n////        wb.write(os);\r\n//        //关闭资源\r\n////        os.close();\r\n////        wb.close();\r\n//\r\n////        把文件推送到客户端\r\n//        response.setContentType(\"application/octet-stream;charset=UTF-8\");\r\n//        response.addHeader(\"Content-Disposition\",\"attachment;filename=activitylist.xls\");\r\n//        OutputStream out = response.getOutputStream();\r\n////        InputStream  is = new FileInputStream(\"D:\\\\Code\\\\crm\\\\src\\\\main\\\\resources\\\\uplode\\\\activitylist.xls\");\r\n////        byte[] buff = new byte[256];\r\n////        int len = 0;\r\n////        is.read(buff)将文件读到缓存区\r\n////        while ((len=is.read(buff))!=-1){\r\n////            out.write(buff,0,len);\r\n////        }\r\n////\r\n//\r\n////        is.close();\r\n//        wb.write(out);\r\n//        wb.close();\r\n//        out.flush();//out由tomcat关闭\r\n    }\r\n//\r\n//    @RequestMapping(\"workbench/activity/importActivity.do\")\r\n//    public Object importAvtivity(){\r\n//\r\n//    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/workbench/web/controller/ActivateController.java	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/workbench/web/controller/ActivateController.java	(date 1656819115265)
@@ -17,19 +17,14 @@
 import org.springframework.stereotype.Controller;
 import org.springframework.web.bind.annotation.RequestMapping;
 import org.springframework.web.bind.annotation.ResponseBody;
+import org.springframework.web.multipart.MultipartFile;
 
 import javax.servlet.ServletOutputStream;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import javax.servlet.http.HttpSession;
-import java.io.FileInputStream;
-import java.io.FileOutputStream;
-import java.io.InputStream;
-import java.io.OutputStream;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Map;
+import java.io.*;
+import java.util.*;
 
 /**
  * @BelongsProject: Code
@@ -163,6 +158,7 @@
     public void exportAllActivitys  (HttpServletResponse response) throws Exception{
         List<Activity> activityList = activityService.queryAllActivitys();
         HSSFUtils.createExcelByActivityList(activityList,"activitylist.xls",response);
+
 //        //创建excl文件
 //        HSSFWorkbook wb = new HSSFWorkbook();
 //        HSSFSheet sheet = wb.createSheet("市场活动列表");
@@ -257,9 +253,111 @@
 //        wb.close();
 //        out.flush();//out由tomcat关闭
     }
-//
+
 //    @RequestMapping("workbench/activity/importActivity.do")
-//    public Object importAvtivity(){
+//    @ResponseBody
+//    public Object importAvtivity(MultipartFile activityFile,HttpSession session){
+//        User user =(User) session.getAttribute(Contants.SESSION_USER);
+//        ReturnObject returnObject = new ReturnObject();
+//        try {
+//            //吧Excel文件写入到磁盘
+//            String originalFilename = activityFile.getOriginalFilename();
+//            File file = new File(".\\resource\\",originalFilename);
+//            activityFile.transferTo(file);
+//
+//            //解析文件中数据并封装成activityList
+//            FileInputStream is = new FileInputStream(".\\resource\\" + originalFilename);
+//            HSSFWorkbook wb = new HSSFWorkbook(is);
+//            HSSFSheet sheet = wb.getSheetAt(0);
+//            List<Activity> activityList = new ArrayList<>();
 //
+//            HSSFRow row = null;
+//            HSSFCell cell = null;
+//            Activity activity = null;
+//            for (int i = 0; i <= sheet.getLastRowNum() ; i++) {
+//                //先行遍历再列遍历
+//                row = sheet.getRow(i);
+//                activity = new Activity();
+//                activity.setId(UUIDUtils.getUUID());
+//                activity.setOwner(user.getId());
+//                activity.setCreateBy(DateUtils.formateDateTime(new Date()));
+//                activity.setCreateBy(user.getId());
+//                for (int j = 0; j <row.getLastCellNum() ; j++) {
+//                    cell = row.getCell(j);
+//                    String cellValue = HSSFUtils.getCellValueForStr(cell);
+//                    switch (j){
+//                        case 0:activity.setName(cellValue);
+//                        case 1:activity.setStartDate(cellValue);
+//                        case 2:activity.setEndDate(cellValue);
+//                        case 3:activity.setCost(cellValue);
+//                        case 4:activity.setDescription(cellValue);
+//                    }
+//                }
+//                activityList.add(activity);
+//            }
+//            int res = activityService.saveActivityByList(activityList);
+//            returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);
+//            returnObject.setRetData(res);
+//        }catch (Exception e){
+//            e.printStackTrace();
+//            returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);
+//            returnObject.setMessage("系统繁忙，请稍后重试...");
+//        }
+//        return returnObject;
 //    }
+
+    @RequestMapping("/workbench/activity/importActivity.do")
+    @ResponseBody
+    public Object importActivity(MultipartFile activityFile, HttpSession session){
+        User user = (User) session.getAttribute(Contants.SESSION_USER);
+        ReturnObject returnObject = new ReturnObject();
+        try {
+            InputStream is = activityFile.getInputStream();
+            HSSFWorkbook wb = new HSSFWorkbook(is);
+            // 根据wb获取HSSFSheet对象，封装了一页的所有信息
+            HSSFSheet sheet = wb.getSheetAt(0); // 页的下标，下标从0开始，依次增加
+            // 根据sheet获取HSSFRow对象，封装了一行的所有信息
+            HSSFRow row = null;
+            HSSFCell cell = null;
+            Activity activity = null;
+            List<Activity> activityList = new ArrayList<>();
+            for(int i = 1; i <= sheet.getLastRowNum(); i++) { // sheet.getLastRowNum()：最后一行的下标
+                row = sheet.getRow(i); // 行的下标，下标从0开始，依次增加
+                activity = new Activity();
+                // 补充部分参数
+                activity.setId(UUIDUtils.getUUID());
+                activity.setOwner(user.getId());
+                activity.setCreateTime(DateUtils.formateDateTime(new Date()));
+                activity.setCreateBy(user.getId());
+                for(int j = 0; j < row.getLastCellNum(); j++) { // row.getLastCellNum():最后一列的下标+1
+                    // 根据row获取HSSFCell对象，封装了一列的所有信息
+                    cell=row.getCell(j); // 列的下标，下标从0开始，依次增加
+                    // 获取列中的数据
+                    String cellValue = HSSFUtils.getCellValueForStr(cell);
+                    if(j == 0) {
+                        activity.setName(cellValue);
+                    } else if(j == 1){
+                        activity.setStartDate(cellValue);
+                    } else if(j == 2){
+                        activity.setEndDate(cellValue);
+                    } else if(j == 3){
+                        activity.setCost(cellValue);
+                    } else if(j == 4){
+                        activity.setDescription(cellValue);
+                    }
+                }
+                //每一行中所有列都封装完成之后，把activity保存到list中
+                activityList.add(activity);
+            }
+            // 调用service层方法，保存市场活动
+            int res = activityService.saveActivityByList(activityList);
+            returnObject.setCode(Contants.RETURN_OBJECT_CODE_SUCCESS);
+            returnObject.setRetData(res);
+        } catch (Exception e){
+            e.printStackTrace();
+            returnObject.setCode(Contants.RETURN_OBJECT_CODE_FAIL);
+            returnObject.setMessage("系统繁忙，请稍后重试...");
+        }
+        return returnObject;
+    }
 }
Index: crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.bjpowernode.crm.workbench.mapper.ActivityMapper\" >\r\n  <resultMap id=\"BaseResultMap\" type=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    <id column=\"id\" property=\"id\" jdbcType=\"CHAR\" />\r\n    <result column=\"owner\" property=\"owner\" jdbcType=\"CHAR\" />\r\n    <result column=\"name\" property=\"name\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"start_date\" property=\"startDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"end_date\" property=\"endDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"cost\" property=\"cost\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"description\" property=\"description\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"create_time\" property=\"createTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"create_by\" property=\"createBy\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"edit_time\" property=\"editTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"edit_by\" property=\"editBy\" jdbcType=\"VARCHAR\" />\r\n  </resultMap>\r\n  <sql id=\"Base_Column_List\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    id, owner, name, start_date, end_date, cost, description, create_time, create_by, \r\n    edit_time, edit_by\r\n  </sql>\r\n  <select id=\"selectByPrimaryKey\" resultMap=\"BaseResultMap\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    select \r\n    <include refid=\"Base_Column_List\" />\r\n    from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </select>\r\n  <delete id=\"deleteByPrimaryKey\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    delete from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </delete>\r\n  <insert id=\"insertActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity (id, owner, name, start_date, \r\n      end_date, cost, description, \r\n      create_time, create_by)\r\n    values (#{id,jdbcType=CHAR}, #{owner,jdbcType=CHAR}, #{name,jdbcType=VARCHAR}, #{startDate,jdbcType=CHAR}, \r\n      #{endDate,jdbcType=CHAR}, #{cost,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, \r\n      #{createTime,jdbcType=CHAR}, #{createBy,jdbcType=VARCHAR})\r\n  </insert>\r\n  <insert id=\"insertSelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity\r\n    <trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        id,\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        owner,\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name,\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date,\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date,\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost,\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description,\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time,\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by,\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time,\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by,\r\n      </if>\r\n    </trim>\r\n    <trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        #{id,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </trim>\r\n  </insert>\r\n  <update id=\"updateByPrimaryKeySelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    <set >\r\n      <if test=\"owner != null\" >\r\n        owner = #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name = #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date = #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date = #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost = #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description = #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time = #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by = #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time = #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by = #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </set>\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n  <update id=\"updateByPrimaryKey\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    set owner = #{owner,jdbcType=CHAR},\r\n      name = #{name,jdbcType=VARCHAR},\r\n      start_date = #{startDate,jdbcType=CHAR},\r\n      end_date = #{endDate,jdbcType=CHAR},\r\n      cost = #{cost,jdbcType=VARCHAR},\r\n      description = #{description,jdbcType=VARCHAR},\r\n      create_time = #{createTime,jdbcType=CHAR},\r\n      create_by = #{createBy,jdbcType=VARCHAR},\r\n      edit_time = #{editTime,jdbcType=CHAR},\r\n      edit_by = #{editBy,jdbcType=VARCHAR}\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n\r\n  <select id=\"selectActivityByConditionForPage\" parameterType=\"map\" resultMap=\"BaseResultMap\">\r\n    select a.id ,u1.name as owner ,a.name ,a.start_date ,a.end_date,\r\n            a.cost ,a.description ,a.create_time,u2.name as create_by ,a.edit_time,u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n            and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n            and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n    order by a.create_time desc\r\n    limit #{beginNo},#{pageSize}\r\n  </select>\r\n\r\n  <select id=\"selectCountOfActivityByCondition\" parameterType=\"map\" resultType=\"int\">\r\n    select count(*)\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n        and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n        and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n\r\n  </select>\r\n<!--  根据Ids批量删除-->\r\n  <delete id=\"deleteActivityByIds\" parameterType=\"string\">\r\n    delete from tbl_activity where id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n  </delete>\r\n<!--  <delete id=\"deleteActivityByIds\" parameterType=\"string\">-->\r\n<!--    delete from tbl_activity-->\r\n<!--    where id in-->\r\n<!--    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">-->\r\n<!--      #{id, jdbcType=VARCHAR}-->\r\n<!--    </foreach>-->\r\n<!--  </delete>-->\r\n\r\n  <select id=\"selectActivityById\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select <include refid=\"Base_Column_List\"></include>\r\n    from tbl_activity\r\n    where id=#{id}\r\n  </select>\r\n\r\n  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    update tbl_activity\r\n    set owner=#{owner},name=#{name}, start_date=#{startDate}, end_date=#{endDate}, cost=#{cost},\r\n        description=#{description}, edit_time=#{editTime}, edit_by=#{editBy}\r\n\r\n    where id = #{id}\r\n  </update>\r\n\r\n<!--  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    update tbl_activity-->\r\n<!--    set owner=#{owner},name=#{name},start_date=#{startDate},end_date=#{endDate},cost=#{cost},-->\r\n<!--        description=#{description},edit_time=#{editTime},edit_by=#{editBy}-->\r\n<!--    where id=#{id}-->\r\n<!--  </update>-->\r\n\r\n  <select id=\"selectAllActivitys\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n  <select id=\"selectPartActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--  </insert>-->\r\n  <select id=\"selectCheckedActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n    u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.yang.crm.workbench.domain.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--    values-->\r\n<!--    <foreach collection=\"list\" item=\"obj\" separator=\",\">-->\r\n<!--      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})-->\r\n<!--    </foreach>-->\r\n<!--  </insert>-->\r\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(date 1656818499935)
@@ -324,6 +324,13 @@
     order by a.create_time desc
   </select>
 
+  <insert id="insertActivityByList" parameterType="com.bjpowernode.crm.workbench.pojo.Activity">
+    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)
+    values
+    <foreach collection="list" item="obj" separator=",">
+      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})
+    </foreach>
+  </insert>
 <!--  <insert id="insertActivityByList" parameterType="com.yang.crm.workbench.domain.Activity">-->
 <!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->
 <!--    values-->
Index: crm/src/main/resources/applicationContext-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n       xmlns:context=\"http://www.springframework.org/schema/context\"\r\n       xmlns:p=\"http://www.springframework.org/schema/p\"\r\n       xmlns:util=\"http://www.springframework.org/schema/util\"\r\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\r\n       xsi:schemaLocation=\"\r\n       http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/tx\r\n       http://www.springframework.org/schema/tx/spring-tx.xsd\r\n       http://www.springframework.org/schema/aop\r\n       http://www.springframework.org/schema/aop/spring-aop.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n       http://www.springframework.org/schema/util\r\n       http://www.springframework.org/schema/util/spring-util.xsd\">\r\n    <!-- dispatcherServlet截获所有URL请求 -->\r\n    <mvc:default-servlet-handler />\r\n    <!-- spring mvc 扫描包下的controller -->\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.settings.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.workbench.web.controller\"/>\r\n    <!-- 配置注解驱动 -->\r\n    <mvc:annotation-driven/>\r\n    <!-- 配置视图解析器 -->\r\n    <bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n        <property name=\"prefix\" value=\"/WEB-INF/pages/\"/>\r\n        <property name=\"suffix\" value=\".jsp\"/>\r\n    </bean>\r\n<!--    配置拦截器，实现登录验证-->\r\n    <mvc:interceptors>\r\n        <mvc:interceptor>\r\n            <!--拦截的controller资源-->\r\n            <mvc:mapping path=\"/settings/**\"/>\r\n            <mvc:mapping path=\"/workbench/**\"/>\r\n            <!--在拦截的资源中需要放行的资源（优先级高）-->\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toLogin.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/login.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toRegister.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/register.do\"/>\r\n            <bean class=\"com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor\"/>\r\n        </mvc:interceptor>\r\n    </mvc:interceptors>\r\n    <!-- 配置文件上传解析器 id:必须是multipartResolver-->\r\n<!--    <bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\">-->\r\n<!--        <property name=\"maxUploadSize\" value=\"#{1024*1024*5}\"/>-->\r\n<!--        <property name=\"defaultEncoding\" value=\"utf-8\"/>-->\r\n<!--    </bean>-->\r\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/resources/applicationContext-mvc.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/resources/applicationContext-mvc.xml	(date 1656818897469)
@@ -47,9 +47,9 @@
             <bean class="com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor"/>
         </mvc:interceptor>
     </mvc:interceptors>
-    <!-- 配置文件上传解析器 id:必须是multipartResolver-->
-<!--    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">-->
-<!--        <property name="maxUploadSize" value="#{1024*1024*5}"/>-->
-<!--        <property name="defaultEncoding" value="utf-8"/>-->
-<!--    </bean>-->
+<!--     配置文件上传解析器 id:必须是multipartResolver-->
+    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
+        <property name="maxUploadSize" value="#{1024*1024*5}"/>
+        <property name="defaultEncoding" value="utf-8"/>
+    </bean>
 </beans>
\ No newline at end of file
Index: crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.bjpowernode.crm.workbench.mapper;\r\n\r\nimport com.bjpowernode.crm.workbench.pojo.Activity;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic interface ActivityMapper {\r\n    /**\r\n     * This method was generated by MyBatis Generator.\r\n     * This method corresponds to the database table tbl_activity\r\n     *\r\n     * @mbggenerated Thu Jun 16 22:45:27 CST 2022\r\n     */\r\n    int deleteByPrimaryKey(String id);\r\n\r\n\r\n\r\n    /**\r\n     * This method was generated by MyBatis Generator.\r\n     * This method corresponds to the database table tbl_activity\r\n     *\r\n     * @mbggenerated Thu Jun 16 22:45:27 CST 2022\r\n     */\r\n    int insertSelective(Activity record);\r\n\r\n    /**\r\n     * This method was generated by MyBatis Generator.\r\n     * This method corresponds to the database table tbl_activity\r\n     *\r\n     * @mbggenerated Thu Jun 16 22:45:27 CST 2022\r\n     */\r\n    Activity selectByPrimaryKey(String id);\r\n\r\n    /**\r\n     * This method was generated by MyBatis Generator.\r\n     * This method corresponds to the database table tbl_activity\r\n     *\r\n     * @mbggenerated Thu Jun 16 22:45:27 CST 2022\r\n     */\r\n    int updateByPrimaryKeySelective(Activity record);\r\n\r\n    /**\r\n     * This method was generated by MyBatis Generator.\r\n     * This method corresponds to the database table tbl_activity\r\n     *\r\n     * @mbggenerated Thu Jun 16 22:45:27 CST 2022\r\n     */\r\n    int updateByPrimaryKey(Activity record);\r\n\r\n    /**\r\n     *保存创建的市场活动\r\n     */\r\n    int insertActivity(Activity activity);\r\n\r\n    //根据条件分页查询市场活动 的列表\r\n    List<Activity> selectActivityByConditionForPage(Map<String, Object> map);\r\n\r\n    //查询符合条件的活动数目\r\n    int selectCountOfActivityByCondition(Map<String, Object> map);\r\n\r\n    //批量删除市场活动\r\n    int deleteActivityByIds(String[] ids);\r\n\r\n    //根据id查询市场活动\r\n    Activity selectActivityById(String id);\r\n\r\n    //更新市场活动\r\n    int updateActivity(Activity activity);\r\n\r\n    //查询所有活动\r\n    List<Activity> selectAllActivitys();\r\n\r\n    //根据前台的文件向表内插入数据\r\n   // int insertActivityByList(List<Activity> activityList);\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.java	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.java	(date 1656817715798)
@@ -72,5 +72,11 @@
     List<Activity> selectAllActivitys();
 
     //根据前台的文件向表内插入数据
-   // int insertActivityByList(List<Activity> activityList);
+  //  int insertActivityByList(List<Activity> activityList);
+    /**
+     * 批量新增创建的市场活动
+     * @param activityList 市场活动集合
+     * @return 新增的条数
+     */
+    int insertActivityByList(List<Activity> activityList);
 }
\ No newline at end of file
Index: crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.bjpowernode.crm.workbench.mapper.ActivityMapper\" >\r\n  <resultMap id=\"BaseResultMap\" type=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    <id column=\"id\" property=\"id\" jdbcType=\"CHAR\" />\r\n    <result column=\"owner\" property=\"owner\" jdbcType=\"CHAR\" />\r\n    <result column=\"name\" property=\"name\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"start_date\" property=\"startDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"end_date\" property=\"endDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"cost\" property=\"cost\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"description\" property=\"description\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"create_time\" property=\"createTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"create_by\" property=\"createBy\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"edit_time\" property=\"editTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"edit_by\" property=\"editBy\" jdbcType=\"VARCHAR\" />\r\n  </resultMap>\r\n  <sql id=\"Base_Column_List\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    id, owner, name, start_date, end_date, cost, description, create_time, create_by, \r\n    edit_time, edit_by\r\n  </sql>\r\n  <select id=\"selectByPrimaryKey\" resultMap=\"BaseResultMap\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    select \r\n    <include refid=\"Base_Column_List\" />\r\n    from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </select>\r\n  <delete id=\"deleteByPrimaryKey\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    delete from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </delete>\r\n  <insert id=\"insertActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity (id, owner, name, start_date, \r\n      end_date, cost, description, \r\n      create_time, create_by)\r\n    values (#{id,jdbcType=CHAR}, #{owner,jdbcType=CHAR}, #{name,jdbcType=VARCHAR}, #{startDate,jdbcType=CHAR}, \r\n      #{endDate,jdbcType=CHAR}, #{cost,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, \r\n      #{createTime,jdbcType=CHAR}, #{createBy,jdbcType=VARCHAR})\r\n  </insert>\r\n  <insert id=\"insertSelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity\r\n    <trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        id,\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        owner,\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name,\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date,\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date,\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost,\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description,\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time,\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by,\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time,\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by,\r\n      </if>\r\n    </trim>\r\n    <trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        #{id,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </trim>\r\n  </insert>\r\n  <update id=\"updateByPrimaryKeySelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    <set >\r\n      <if test=\"owner != null\" >\r\n        owner = #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name = #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date = #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date = #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost = #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description = #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time = #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by = #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time = #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by = #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </set>\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n  <update id=\"updateByPrimaryKey\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    set owner = #{owner,jdbcType=CHAR},\r\n      name = #{name,jdbcType=VARCHAR},\r\n      start_date = #{startDate,jdbcType=CHAR},\r\n      end_date = #{endDate,jdbcType=CHAR},\r\n      cost = #{cost,jdbcType=VARCHAR},\r\n      description = #{description,jdbcType=VARCHAR},\r\n      create_time = #{createTime,jdbcType=CHAR},\r\n      create_by = #{createBy,jdbcType=VARCHAR},\r\n      edit_time = #{editTime,jdbcType=CHAR},\r\n      edit_by = #{editBy,jdbcType=VARCHAR}\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n\r\n  <select id=\"selectActivityByConditionForPage\" parameterType=\"map\" resultMap=\"BaseResultMap\">\r\n    select a.id ,u1.name as owner ,a.name ,a.start_date ,a.end_date,\r\n            a.cost ,a.description ,a.create_time,u2.name as create_by ,a.edit_time,u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n            and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n            and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n    order by a.create_time desc\r\n    limit #{beginNo},#{pageSize}\r\n  </select>\r\n\r\n  <select id=\"selectCountOfActivityByCondition\" parameterType=\"map\" resultType=\"int\">\r\n    select count(*)\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n        and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n        and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n\r\n  </select>\r\n<!--  根据Ids批量删除-->\r\n  <delete id=\"deleteActivityByIds\" parameterType=\"string\">\r\n    delete from tbl_activity where id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n  </delete>\r\n<!--  <delete id=\"deleteActivityByIds\" parameterType=\"string\">-->\r\n<!--    delete from tbl_activity-->\r\n<!--    where id in-->\r\n<!--    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">-->\r\n<!--      #{id, jdbcType=VARCHAR}-->\r\n<!--    </foreach>-->\r\n<!--  </delete>-->\r\n\r\n  <select id=\"selectActivityById\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select <include refid=\"Base_Column_List\"></include>\r\n    from tbl_activity\r\n    where id=#{id}\r\n  </select>\r\n\r\n  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    update tbl_activity\r\n    set owner=#{owner},name=#{name}, start_date=#{startDate}, end_date=#{endDate}, cost=#{cost},\r\n        description=#{description}, edit_time=#{editTime}, edit_by=#{editBy}\r\n\r\n    where id = #{id}\r\n  </update>\r\n\r\n<!--  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    update tbl_activity-->\r\n<!--    set owner=#{owner},name=#{name},start_date=#{startDate},end_date=#{endDate},cost=#{cost},-->\r\n<!--        description=#{description},edit_time=#{editTime},edit_by=#{editBy}-->\r\n<!--    where id=#{id}-->\r\n<!--  </update>-->\r\n\r\n  <select id=\"selectAllActivitys\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n  <select id=\"selectPartActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--  </insert>-->\r\n  <select id=\"selectCheckedActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n    u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.yang.crm.workbench.domain.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--    values-->\r\n<!--    <foreach collection=\"list\" item=\"obj\" separator=\",\">-->\r\n<!--      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})-->\r\n<!--    </foreach>-->\r\n<!--  </insert>-->\r\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(date 1656818499935)
@@ -324,6 +324,13 @@
     order by a.create_time desc
   </select>
 
+  <insert id="insertActivityByList" parameterType="com.bjpowernode.crm.workbench.pojo.Activity">
+    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)
+    values
+    <foreach collection="list" item="obj" separator=",">
+      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})
+    </foreach>
+  </insert>
 <!--  <insert id="insertActivityByList" parameterType="com.yang.crm.workbench.domain.Activity">-->
 <!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->
 <!--    values-->
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"crm:war\" />\r\n      <artifact name=\"crm:war exploded\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"64d4ab71-5cd2-492f-a3c2-22e360f0e92b\" name=\"默认的\" comment=\"\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2AEXE9vyBMK2OSwJ4CzNCE6Zp7C\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"aspect.path.notification.shown\" value=\"true\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/crm-mybatis-generator/src/main/resources\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.detected.package.tslint\" value=\"true\" />\r\n    <property name=\"node.js.path.for.package.eslint\" value=\"project\" />\r\n    <property name=\"node.js.path.for.package.tslint\" value=\"project\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n    <property name=\"node.js.selected.package.tslint\" value=\"(autodetect)\" />\r\n    <property name=\"project.structure.last.edited\" value=\"模块\" />\r\n    <property name=\"project.structure.proportion\" value=\"0.15\" />\r\n    <property name=\"project.structure.side.proportion\" value=\"0.2\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"preferences.pluginManager\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\Code\\crm-mybatis-generator\\src\\main\\resources\" />\r\n      <recent name=\"D:\\Code\\crm\\src\\main\\webapp\" />\r\n      <recent name=\"D:\\Code\\crm\\sql\" />\r\n      <recent name=\"D:\\Code\\crm\\src\\main\\resources\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\Code\\crm\\src\\main\\java\\com\\bjpowernode\\crm\\workbench\\web\\mapper\" />\r\n      <recent name=\"D:\\Code\\crm\\src\\main\\java\\com\\bjpowernode\\crm\\workbench\\web\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Tomcat 8.5.77\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 8.5.77\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\r\n      <option name=\"OPEN_IN_BROWSER_URL\" value=\"http://127.0.0.1:8080/\" />\r\n      <option name=\"BROWSER_ID\" value=\"98ca6316-2f89-46d9-a9e5-fa9e2b0625b3\" />\r\n      <deployment>\r\n        <artifact name=\"crm:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"Tomcat_8_5_77_Code\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"55390\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"crm:war exploded\" />\r\n          <artifact name=\"crm:war\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n    <configuration default=\"true\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 8.5.77\" ALTERNATIVE_JRE_ENABLED=\"false\">\r\n      <option name=\"OPEN_IN_BROWSER_URL\" value=\"http://127.0.0.1:8080/crm/\" />\r\n      <option name=\"BROWSER_ID\" value=\"a7bb68e0-33c0-4d6f-a81a-aac1fdb870c8\" />\r\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\r\n      <deployment>\r\n        <artifact name=\"crm:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/crm\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"_Code\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"55390\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"crm:war exploded\" />\r\n          <artifact name=\"crm:war\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"64d4ab71-5cd2-492f-a3c2-22e360f0e92b\" name=\"默认的\" comment=\"\" />\r\n      <created>1654575603779</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1654575603779</updated>\r\n      <workItem from=\"1654575606143\" duration=\"123000\" />\r\n      <workItem from=\"1654575776743\" duration=\"10548000\" />\r\n      <workItem from=\"1654656258845\" duration=\"4239000\" />\r\n      <workItem from=\"1654739168698\" duration=\"1210000\" />\r\n      <workItem from=\"1655082354929\" duration=\"8371000\" />\r\n      <workItem from=\"1655109366857\" duration=\"9924000\" />\r\n      <workItem from=\"1655136419293\" duration=\"2534000\" />\r\n      <workItem from=\"1655168332853\" duration=\"7446000\" />\r\n      <workItem from=\"1655187382014\" duration=\"6964000\" />\r\n      <workItem from=\"1655194646964\" duration=\"6940000\" />\r\n      <workItem from=\"1655255534926\" duration=\"17499000\" />\r\n      <workItem from=\"1655349548458\" duration=\"10794000\" />\r\n      <workItem from=\"1655390089461\" duration=\"5701000\" />\r\n      <workItem from=\"1655431971475\" duration=\"15686000\" />\r\n      <workItem from=\"1655483844315\" duration=\"1661000\" />\r\n      <workItem from=\"1655514994518\" duration=\"10868000\" />\r\n      <workItem from=\"1655604622978\" duration=\"8146000\" />\r\n      <workItem from=\"1655622272389\" duration=\"3030000\" />\r\n      <workItem from=\"1655688616829\" duration=\"3848000\" />\r\n      <workItem from=\"1655770308962\" duration=\"13761000\" />\r\n      <workItem from=\"1655866317180\" duration=\"6969000\" />\r\n      <workItem from=\"1655953866488\" duration=\"11776000\" />\r\n      <workItem from=\"1656038709228\" duration=\"4428000\" />\r\n      <workItem from=\"1656116860996\" duration=\"4876000\" />\r\n      <workItem from=\"1656208109515\" duration=\"10101000\" />\r\n      <workItem from=\"1656510345069\" duration=\"650000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"2\" />\r\n  </component>\r\n  <component name=\"WindowStateProjectService\">\r\n    <state x=\"1055\" y=\"416\" key=\"#TomEE_Server\" timestamp=\"1654587570584\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1055\" y=\"416\" key=\"#TomEE_Server/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1654587570584\" />\r\n    <state x=\"1010\" y=\"294\" key=\"#com.intellij.codeInsight.editorActions.RestoreReferencesDialog\" timestamp=\"1655441390189\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1010\" y=\"294\" key=\"#com.intellij.codeInsight.editorActions.RestoreReferencesDialog/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655441390189\" />\r\n    <state x=\"1575\" y=\"400\" key=\"#com.intellij.codeInsight.template.impl.EditVariableDialog\" timestamp=\"1655110485694\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1575\" y=\"400\" key=\"#com.intellij.codeInsight.template.impl.EditVariableDialog/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655110485694\" />\r\n    <state x=\"1139\" y=\"169\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog\" timestamp=\"1655289452924\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1139\" y=\"169\" key=\"#com.intellij.execution.impl.EditConfigurationsDialog/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655289452924\" />\r\n    <state x=\"1725\" y=\"248\" key=\"#com.intellij.ide.util.MemberChooser\" timestamp=\"1656148697166\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1725\" y=\"248\" key=\"#com.intellij.ide.util.MemberChooser/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656148697166\" />\r\n    <state x=\"1011\" y=\"169\" key=\"#com.intellij.j2ee.appServerIntegrations.ApplicationServersConfigurable\" timestamp=\"1654587571620\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1011\" y=\"169\" key=\"#com.intellij.j2ee.appServerIntegrations.ApplicationServersConfigurable/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1654587571620\" />\r\n    <state x=\"1618\" y=\"457\" key=\"#com.intellij.refactoring.move.MoveHandler.SelectRefactoringDialog\" timestamp=\"1655392413547\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1618\" y=\"457\" key=\"#com.intellij.refactoring.move.MoveHandler.SelectRefactoringDialog/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655392413547\" />\r\n    <state x=\"1010\" y=\"286\" key=\"#com.intellij.refactoring.safeDelete.UnsafeUsagesDialog\" timestamp=\"1655194607870\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1010\" y=\"286\" key=\"#com.intellij.refactoring.safeDelete.UnsafeUsagesDialog/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655194607870\" />\r\n    <state x=\"1648\" y=\"231\" key=\"#xdebugger.evaluate\" timestamp=\"1655288562472\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1648\" y=\"231\" key=\"#xdebugger.evaluate/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655288562472\" />\r\n    <state x=\"906\" y=\"218\" key=\"#检查\" timestamp=\"1655442660163\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"906\" y=\"218\" key=\"#检查/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655442660163\" />\r\n    <state x=\"958\" y=\"380\" key=\"#模板语言\" timestamp=\"1655193793394\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"958\" y=\"380\" key=\"#模板语言/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655193793394\" />\r\n    <state x=\"361\" y=\"228\" key=\"#项目结构\" timestamp=\"1655390103863\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"361\" y=\"228\" key=\"#项目结构/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655390103863\" />\r\n    <state x=\"1222\" y=\"322\" key=\"FileChooserDialogImpl\" timestamp=\"1654583365481\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1222\" y=\"322\" key=\"FileChooserDialogImpl/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1654583365481\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.bottom\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.bottom/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.center\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.center/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.left\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.left/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.right\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.0.right/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.bottom\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.bottom/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.center\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.center/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.left\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.left/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.right\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.1.right/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.bottom\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.bottom/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.center\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.center/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.left\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.left/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.right\" timestamp=\"1656209944923\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1836\" height=\"170\" key=\"GridCell.Tab.2.right/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656209944923\" />\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.bottom\" timestamp=\"1655288623394\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.bottom/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655288623394\" />\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.center\" timestamp=\"1655288623394\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.center/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655288623394\" />\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.left\" timestamp=\"1655288623394\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.left/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655288623394\" />\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.right\" timestamp=\"1655288623394\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state width=\"1609\" height=\"273\" key=\"GridCell.Tab.3.right/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655288623394\" />\r\n    <state x=\"828\" y=\"193\" width=\"1205\" height=\"869\" key=\"SettingsEditor\" timestamp=\"1655370976180\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"828\" y=\"193\" width=\"1205\" height=\"869\" key=\"SettingsEditor/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655370976180\" />\r\n    <state x=\"1286\" y=\"298\" width=\"680\" height=\"594\" key=\"find.popup\" timestamp=\"1656208552689\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1286\" y=\"298\" width=\"680\" height=\"594\" key=\"find.popup/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1656208552689\" />\r\n    <state x=\"1218\" y=\"211\" key=\"new project wizard\" timestamp=\"1655083081654\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1218\" y=\"211\" key=\"new project wizard/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655083081654\" />\r\n    <state x=\"1715\" y=\"268\" key=\"run.anything.popup\" timestamp=\"1655391067801\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"1715\" y=\"268\" key=\"run.anything.popup/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655391067801\" />\r\n    <state x=\"943\" y=\"235\" width=\"672\" height=\"678\" key=\"search.everywhere.popup\" timestamp=\"1655795887647\">\r\n      <screen x=\"0\" y=\"0\" width=\"2560\" height=\"1080\" />\r\n    </state>\r\n    <state x=\"943\" y=\"235\" width=\"672\" height=\"678\" key=\"search.everywhere.popup/0.0.2560.1080@0.0.2560.1080\" timestamp=\"1655795887647\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <watches-manager>\r\n      <configuration name=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\">\r\n        <watch expression=\"            System.out.println(request.getContextPath());\" />\r\n      </configuration>\r\n    </watches-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ .idea/workspace.xml	(date 1656825910602)
@@ -6,8 +6,52 @@
       <artifact name="crm:war exploded" />
     </artifacts-to-build>
   </component>
+  <component name="BranchesTreeState">
+    <expand>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="LOCAL_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="REMOTE_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="REMOTE_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="GROUP_NODE:origin" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+    </expand>
+    <select />
+  </component>
   <component name="ChangeListManager">
-    <list default="true" id="64d4ab71-5cd2-492f-a3c2-22e360f0e92b" name="默认的" comment="" />
+    <list default="true" id="64d4ab71-5cd2-492f-a3c2-22e360f0e92b" name="默认的" comment="070311">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/commons/utils/HSSFUtils.java" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/commons/utils/HSSFUtils.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.java" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/service/ActivityService.java" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/service/ActivityService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.java" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/web/controller/ActivateController.java" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/java/com/bjpowernode/crm/workbench/web/controller/ActivateController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/src/main/resources/applicationContext-mvc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/src/main/resources/applicationContext-mvc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/applicationContext-mvc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/applicationContext-mvc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/commons/utils/HSSFUtils.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/commons/utils/HSSFUtils.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/service/ActivityService.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/service/ActivityService.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/web/controller/ActivateController.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/classes/com/bjpowernode/crm/workbench/web/controller/ActivateController.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm.war" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm.war" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/applicationContext-mvc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/applicationContext-mvc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/commons/utils/HSSFUtils.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/commons/utils/HSSFUtils.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/service/ActivityService.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/service/ActivityService.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/service/impl/AvtivityServiceImpl.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/web/controller/ActivateController.class" beforeDir="false" afterPath="$PROJECT_DIR$/crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/web/controller/ActivateController.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/dsc945skllxs" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/dsc945skllxs.pub" beforeDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -20,6 +64,10 @@
         <option value="Class" />
       </list>
     </option>
+  </component>
+  <component name="Git.Settings">
+    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
+    <option name="RESET_MODE" value="MIXED" />
   </component>
   <component name="LogFilters">
     <option name="FILTER_ERRORS" value="false" />
@@ -29,6 +77,7 @@
     <option name="CUSTOM_FILTER" />
   </component>
   <component name="ProjectId" id="2AEXE9vyBMK2OSwJ4CzNCE6Zp7C" />
+  <component name="ProjectLevelVcsManager" settingsEditedManually="true" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
@@ -48,7 +97,7 @@
     <property name="project.structure.last.edited" value="模块" />
     <property name="project.structure.proportion" value="0.15" />
     <property name="project.structure.side.proportion" value="0.2" />
-    <property name="settings.editor.selected.configurable" value="preferences.pluginManager" />
+    <property name="settings.editor.selected.configurable" value="vcs.Git" />
   </component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
@@ -248,14 +297,45 @@
       <workItem from="1656038709228" duration="4428000" />
       <workItem from="1656116860996" duration="4876000" />
       <workItem from="1656208109515" duration="10101000" />
-      <workItem from="1656510345069" duration="650000" />
+      <workItem from="1656510345069" duration="1987000" />
+      <workItem from="1656513444779" duration="367000" />
+      <workItem from="1656674583203" duration="1277000" />
+      <workItem from="1656811002799" duration="9939000" />
+    </task>
+    <task id="LOCAL-00001" summary="070311">
+      <created>1656817432941</created>
+      <option name="number" value="00001" />
+      <option name="presentableId" value="LOCAL-00001" />
+      <option name="project" value="LOCAL" />
+      <updated>1656817432941</updated>
     </task>
+    <option name="localTasksCounter" value="2" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
     <option name="version" value="2" />
+  </component>
+  <component name="Vcs.Log.Tabs.Properties">
+    <option name="TAB_STATES">
+      <map>
+        <entry key="MAIN">
+          <value>
+            <State />
+          </value>
+        </entry>
+      </map>
+    </option>
+    <option name="oldMeFiltersMigrated" value="true" />
+  </component>
+  <component name="VcsManagerConfiguration">
+    <MESSAGE value="070311" />
+    <option name="LAST_COMMIT_MESSAGE" value="070311" />
   </component>
   <component name="WindowStateProjectService">
+    <state x="1088" y="415" key="#Notifications" timestamp="1656513643199">
+      <screen x="0" y="0" width="2560" height="1080" />
+    </state>
+    <state x="1088" y="415" key="#Notifications/0.0.2560.1080@0.0.2560.1080" timestamp="1656513643199" />
     <state x="1055" y="416" key="#TomEE_Server" timestamp="1654587570584">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
@@ -304,58 +384,62 @@
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
     <state x="361" y="228" key="#项目结构/0.0.2560.1080@0.0.2560.1080" timestamp="1655390103863" />
-    <state x="1222" y="322" key="FileChooserDialogImpl" timestamp="1654583365481">
+    <state x="281" y="117" width="1850" height="873" key="DiffContextDialog" timestamp="1656675182673">
+      <screen x="0" y="0" width="2560" height="1080" />
+    </state>
+    <state x="281" y="117" width="1850" height="873" key="DiffContextDialog/0.0.2560.1080@0.0.2560.1080" timestamp="1656675182673" />
+    <state x="1222" y="322" key="FileChooserDialogImpl" timestamp="1656674609839">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state x="1222" y="322" key="FileChooserDialogImpl/0.0.2560.1080@0.0.2560.1080" timestamp="1654583365481" />
-    <state width="1836" height="170" key="GridCell.Tab.0.bottom" timestamp="1656209944923">
+    <state x="1222" y="322" key="FileChooserDialogImpl/0.0.2560.1080@0.0.2560.1080" timestamp="1656674609839" />
+    <state width="1835" height="84" key="GridCell.Tab.0.bottom" timestamp="1656819120522">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.0.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.0.center" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.0.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120522" />
+    <state width="1835" height="84" key="GridCell.Tab.0.center" timestamp="1656819120522">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.0.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.0.left" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.0.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120522" />
+    <state width="1835" height="84" key="GridCell.Tab.0.left" timestamp="1656819120522">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.0.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.0.right" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.0.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120522" />
+    <state width="1835" height="84" key="GridCell.Tab.0.right" timestamp="1656819120522">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.0.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.1.bottom" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.0.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120522" />
+    <state width="1835" height="84" key="GridCell.Tab.1.bottom" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.1.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.1.center" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.1.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.1.center" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.1.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.1.left" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.1.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.1.left" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.1.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.1.right" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.1.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.1.right" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.1.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.2.bottom" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.1.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.2.bottom" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.2.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.2.center" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.2.bottom/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.2.center" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.2.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.2.left" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.2.center/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.2.left" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.2.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
-    <state width="1836" height="170" key="GridCell.Tab.2.right" timestamp="1656209944923">
+    <state width="1835" height="84" key="GridCell.Tab.2.left/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
+    <state width="1835" height="84" key="GridCell.Tab.2.right" timestamp="1656819120461">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state width="1836" height="170" key="GridCell.Tab.2.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656209944923" />
+    <state width="1835" height="84" key="GridCell.Tab.2.right/0.0.2560.1080@0.0.2560.1080" timestamp="1656819120461" />
     <state width="1609" height="273" key="GridCell.Tab.3.bottom" timestamp="1655288623394">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
@@ -372,14 +456,22 @@
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
     <state width="1609" height="273" key="GridCell.Tab.3.right/0.0.2560.1080@0.0.2560.1080" timestamp="1655288623394" />
-    <state x="828" y="193" width="1205" height="869" key="SettingsEditor" timestamp="1655370976180">
+    <state x="1120" y="94" width="1205" height="869" key="SettingsEditor" timestamp="1656674614987">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state x="828" y="193" width="1205" height="869" key="SettingsEditor/0.0.2560.1080@0.0.2560.1080" timestamp="1655370976180" />
+    <state x="1120" y="94" width="1205" height="869" key="SettingsEditor/0.0.2560.1080@0.0.2560.1080" timestamp="1656674614987" />
+    <state x="1019" y="466" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2" timestamp="1656676837067">
+      <screen x="0" y="0" width="2560" height="1080" />
+    </state>
+    <state x="1019" y="466" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.2560.1080@0.0.2560.1080" timestamp="1656676837067" />
     <state x="1286" y="298" width="680" height="594" key="find.popup" timestamp="1656208552689">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
     <state x="1286" y="298" width="680" height="594" key="find.popup/0.0.2560.1080@0.0.2560.1080" timestamp="1656208552689" />
+    <state x="935" y="340" key="git4idea.merge.GitPullDialog" timestamp="1656817595621">
+      <screen x="0" y="0" width="2560" height="1080" />
+    </state>
+    <state x="935" y="340" key="git4idea.merge.GitPullDialog/0.0.2560.1080@0.0.2560.1080" timestamp="1656817595621" />
     <state x="1218" y="211" key="new project wizard" timestamp="1655083081654">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
@@ -388,10 +480,10 @@
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
     <state x="1715" y="268" key="run.anything.popup/0.0.2560.1080@0.0.2560.1080" timestamp="1655391067801" />
-    <state x="943" y="235" width="672" height="678" key="search.everywhere.popup" timestamp="1655795887647">
+    <state x="943" y="235" width="672" height="678" key="search.everywhere.popup" timestamp="1656812906593">
       <screen x="0" y="0" width="2560" height="1080" />
     </state>
-    <state x="943" y="235" width="672" height="678" key="search.everywhere.popup/0.0.2560.1080@0.0.2560.1080" timestamp="1655795887647" />
+    <state x="943" y="235" width="672" height="678" key="search.everywhere.popup/0.0.2560.1080@0.0.2560.1080" timestamp="1656812906593" />
   </component>
   <component name="XDebuggerManager">
     <watches-manager>
Index: crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\r\n<mapper namespace=\"com.bjpowernode.crm.workbench.mapper.ActivityMapper\" >\r\n  <resultMap id=\"BaseResultMap\" type=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    <id column=\"id\" property=\"id\" jdbcType=\"CHAR\" />\r\n    <result column=\"owner\" property=\"owner\" jdbcType=\"CHAR\" />\r\n    <result column=\"name\" property=\"name\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"start_date\" property=\"startDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"end_date\" property=\"endDate\" jdbcType=\"CHAR\" />\r\n    <result column=\"cost\" property=\"cost\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"description\" property=\"description\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"create_time\" property=\"createTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"create_by\" property=\"createBy\" jdbcType=\"VARCHAR\" />\r\n    <result column=\"edit_time\" property=\"editTime\" jdbcType=\"CHAR\" />\r\n    <result column=\"edit_by\" property=\"editBy\" jdbcType=\"VARCHAR\" />\r\n  </resultMap>\r\n  <sql id=\"Base_Column_List\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    id, owner, name, start_date, end_date, cost, description, create_time, create_by, \r\n    edit_time, edit_by\r\n  </sql>\r\n  <select id=\"selectByPrimaryKey\" resultMap=\"BaseResultMap\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    select \r\n    <include refid=\"Base_Column_List\" />\r\n    from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </select>\r\n  <delete id=\"deleteByPrimaryKey\" parameterType=\"java.lang.String\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    delete from tbl_activity\r\n    where id = #{id,jdbcType=CHAR}\r\n  </delete>\r\n  <insert id=\"insertActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity (id, owner, name, start_date, \r\n      end_date, cost, description, \r\n      create_time, create_by)\r\n    values (#{id,jdbcType=CHAR}, #{owner,jdbcType=CHAR}, #{name,jdbcType=VARCHAR}, #{startDate,jdbcType=CHAR}, \r\n      #{endDate,jdbcType=CHAR}, #{cost,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, \r\n      #{createTime,jdbcType=CHAR}, #{createBy,jdbcType=VARCHAR})\r\n  </insert>\r\n  <insert id=\"insertSelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    insert into tbl_activity\r\n    <trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        id,\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        owner,\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name,\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date,\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date,\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost,\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description,\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time,\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by,\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time,\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by,\r\n      </if>\r\n    </trim>\r\n    <trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\" >\r\n      <if test=\"id != null\" >\r\n        #{id,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"owner != null\" >\r\n        #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </trim>\r\n  </insert>\r\n  <update id=\"updateByPrimaryKeySelective\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    <set >\r\n      <if test=\"owner != null\" >\r\n        owner = #{owner,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"name != null\" >\r\n        name = #{name,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"startDate != null\" >\r\n        start_date = #{startDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"endDate != null\" >\r\n        end_date = #{endDate,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"cost != null\" >\r\n        cost = #{cost,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"description != null\" >\r\n        description = #{description,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"createTime != null\" >\r\n        create_time = #{createTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"createBy != null\" >\r\n        create_by = #{createBy,jdbcType=VARCHAR},\r\n      </if>\r\n      <if test=\"editTime != null\" >\r\n        edit_time = #{editTime,jdbcType=CHAR},\r\n      </if>\r\n      <if test=\"editBy != null\" >\r\n        edit_by = #{editBy,jdbcType=VARCHAR},\r\n      </if>\r\n    </set>\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n  <update id=\"updateByPrimaryKey\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    <!--\r\n      WARNING - @mbggenerated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n      This element was generated on Thu Jun 16 22:45:27 CST 2022.\r\n    -->\r\n    update tbl_activity\r\n    set owner = #{owner,jdbcType=CHAR},\r\n      name = #{name,jdbcType=VARCHAR},\r\n      start_date = #{startDate,jdbcType=CHAR},\r\n      end_date = #{endDate,jdbcType=CHAR},\r\n      cost = #{cost,jdbcType=VARCHAR},\r\n      description = #{description,jdbcType=VARCHAR},\r\n      create_time = #{createTime,jdbcType=CHAR},\r\n      create_by = #{createBy,jdbcType=VARCHAR},\r\n      edit_time = #{editTime,jdbcType=CHAR},\r\n      edit_by = #{editBy,jdbcType=VARCHAR}\r\n    where id = #{id,jdbcType=CHAR}\r\n  </update>\r\n\r\n  <select id=\"selectActivityByConditionForPage\" parameterType=\"map\" resultMap=\"BaseResultMap\">\r\n    select a.id ,u1.name as owner ,a.name ,a.start_date ,a.end_date,\r\n            a.cost ,a.description ,a.create_time,u2.name as create_by ,a.edit_time,u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n            and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n            and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n    order by a.create_time desc\r\n    limit #{beginNo},#{pageSize}\r\n  </select>\r\n\r\n  <select id=\"selectCountOfActivityByCondition\" parameterType=\"map\" resultType=\"int\">\r\n    select count(*)\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    <where>\r\n      <if test=\"name != null and name != '' \">\r\n        and a.name like '%' #{name} '%'\r\n      </if>\r\n      <if test=\"owner != null and owner != '' \">\r\n        and u1.name like '%' #{owner} '%'\r\n      </if>\r\n      <if test=\"startDate != null and startDate != '' \">\r\n        and a.start_date &gt;= #{startDate}\r\n      </if>\r\n      <if test=\"endDate != null and endDate != '' \">\r\n        and a.end_date &lt;= #{endDate}\r\n      </if>\r\n    </where>\r\n\r\n  </select>\r\n<!--  根据Ids批量删除-->\r\n  <delete id=\"deleteActivityByIds\" parameterType=\"string\">\r\n    delete from tbl_activity where id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n  </delete>\r\n<!--  <delete id=\"deleteActivityByIds\" parameterType=\"string\">-->\r\n<!--    delete from tbl_activity-->\r\n<!--    where id in-->\r\n<!--    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">-->\r\n<!--      #{id, jdbcType=VARCHAR}-->\r\n<!--    </foreach>-->\r\n<!--  </delete>-->\r\n\r\n  <select id=\"selectActivityById\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select <include refid=\"Base_Column_List\"></include>\r\n    from tbl_activity\r\n    where id=#{id}\r\n  </select>\r\n\r\n  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\" >\r\n    update tbl_activity\r\n    set owner=#{owner},name=#{name}, start_date=#{startDate}, end_date=#{endDate}, cost=#{cost},\r\n        description=#{description}, edit_time=#{editTime}, edit_by=#{editBy}\r\n\r\n    where id = #{id}\r\n  </update>\r\n\r\n<!--  <update id=\"updateActivity\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    update tbl_activity-->\r\n<!--    set owner=#{owner},name=#{name},start_date=#{startDate},end_date=#{endDate},cost=#{cost},-->\r\n<!--        description=#{description},edit_time=#{editTime},edit_by=#{editBy}-->\r\n<!--    where id=#{id}-->\r\n<!--  </update>-->\r\n\r\n  <select id=\"selectAllActivitys\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n  <select id=\"selectPartActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n           u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n           join tbl_user u1 on a.owner=u1.id\r\n           join tbl_user u2 on a.create_by=u2.id\r\n           left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.bjpowernode.crm.workbench.pojo.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--  </insert>-->\r\n  <select id=\"selectCheckedActivity\" parameterType=\"string\" resultMap=\"BaseResultMap\">\r\n    select a.id, u1.name as owner, a.name, a.start_date, a.end_date, a.cost, a.description, a.create_time,\r\n    u2.name as create_by, a.edit_time, u3.name as edit_by\r\n    from tbl_activity a\r\n    join tbl_user u1 on a.owner=u1.id\r\n    join tbl_user u2 on a.create_by=u2.id\r\n    left join tbl_user u3 on a.edit_by=u3.id\r\n    where a.id in\r\n    <foreach collection=\"array\" item=\"id\" separator=\",\" open=\"(\" close=\")\">\r\n      #{id, jdbcType=VARCHAR}\r\n    </foreach>\r\n    order by a.create_time desc\r\n  </select>\r\n\r\n<!--  <insert id=\"insertActivityByList\" parameterType=\"com.yang.crm.workbench.domain.Activity\">-->\r\n<!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->\r\n<!--    values-->\r\n<!--    <foreach collection=\"list\" item=\"obj\" separator=\",\">-->\r\n<!--      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})-->\r\n<!--    </foreach>-->\r\n<!--  </insert>-->\r\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/target/crm/WEB-INF/classes/com/bjpowernode/crm/workbench/mapper/ActivityMapper.xml	(date 1656818499935)
@@ -324,6 +324,13 @@
     order by a.create_time desc
   </select>
 
+  <insert id="insertActivityByList" parameterType="com.bjpowernode.crm.workbench.pojo.Activity">
+    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)
+    values
+    <foreach collection="list" item="obj" separator=",">
+      (#{obj.id},#{obj.owner},#{obj.name},#{obj.startDate},#{obj.endDate},#{obj.cost},#{obj.description},#{obj.createTime},#{obj.createBy})
+    </foreach>
+  </insert>
 <!--  <insert id="insertActivityByList" parameterType="com.yang.crm.workbench.domain.Activity">-->
 <!--    insert into tbl_activity(id, owner, name, start_date, end_date, cost, description, create_time, create_by)-->
 <!--    values-->
Index: crm/target/classes/applicationContext-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n       xmlns:context=\"http://www.springframework.org/schema/context\"\r\n       xmlns:p=\"http://www.springframework.org/schema/p\"\r\n       xmlns:util=\"http://www.springframework.org/schema/util\"\r\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\r\n       xsi:schemaLocation=\"\r\n       http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/tx\r\n       http://www.springframework.org/schema/tx/spring-tx.xsd\r\n       http://www.springframework.org/schema/aop\r\n       http://www.springframework.org/schema/aop/spring-aop.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n       http://www.springframework.org/schema/util\r\n       http://www.springframework.org/schema/util/spring-util.xsd\">\r\n    <!-- dispatcherServlet截获所有URL请求 -->\r\n    <mvc:default-servlet-handler />\r\n    <!-- spring mvc 扫描包下的controller -->\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.settings.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.workbench.web.controller\"/>\r\n    <!-- 配置注解驱动 -->\r\n    <mvc:annotation-driven/>\r\n    <!-- 配置视图解析器 -->\r\n    <bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n        <property name=\"prefix\" value=\"/WEB-INF/pages/\"/>\r\n        <property name=\"suffix\" value=\".jsp\"/>\r\n    </bean>\r\n<!--    配置拦截器，实现登录验证-->\r\n    <mvc:interceptors>\r\n        <mvc:interceptor>\r\n            <!--拦截的controller资源-->\r\n            <mvc:mapping path=\"/settings/**\"/>\r\n            <mvc:mapping path=\"/workbench/**\"/>\r\n            <!--在拦截的资源中需要放行的资源（优先级高）-->\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toLogin.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/login.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toRegister.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/register.do\"/>\r\n            <bean class=\"com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor\"/>\r\n        </mvc:interceptor>\r\n    </mvc:interceptors>\r\n    <!-- 配置文件上传解析器 id:必须是multipartResolver-->\r\n<!--    <bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\">-->\r\n<!--        <property name=\"maxUploadSize\" value=\"#{1024*1024*5}\"/>-->\r\n<!--        <property name=\"defaultEncoding\" value=\"utf-8\"/>-->\r\n<!--    </bean>-->\r\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/target/classes/applicationContext-mvc.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/target/classes/applicationContext-mvc.xml	(date 1656818897469)
@@ -47,9 +47,9 @@
             <bean class="com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor"/>
         </mvc:interceptor>
     </mvc:interceptors>
-    <!-- 配置文件上传解析器 id:必须是multipartResolver-->
-<!--    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">-->
-<!--        <property name="maxUploadSize" value="#{1024*1024*5}"/>-->
-<!--        <property name="defaultEncoding" value="utf-8"/>-->
-<!--    </bean>-->
+<!--     配置文件上传解析器 id:必须是multipartResolver-->
+    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
+        <property name="maxUploadSize" value="#{1024*1024*5}"/>
+        <property name="defaultEncoding" value="utf-8"/>
+    </bean>
 </beans>
\ No newline at end of file
Index: crm/target/crm/WEB-INF/classes/applicationContext-mvc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n       xmlns:context=\"http://www.springframework.org/schema/context\"\r\n       xmlns:p=\"http://www.springframework.org/schema/p\"\r\n       xmlns:util=\"http://www.springframework.org/schema/util\"\r\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\r\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\r\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\r\n       xsi:schemaLocation=\"\r\n       http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/tx\r\n       http://www.springframework.org/schema/tx/spring-tx.xsd\r\n       http://www.springframework.org/schema/aop\r\n       http://www.springframework.org/schema/aop/spring-aop.xsd\r\n       http://www.springframework.org/schema/mvc\r\n       http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n       http://www.springframework.org/schema/util\r\n       http://www.springframework.org/schema/util/spring-util.xsd\">\r\n    <!-- dispatcherServlet截获所有URL请求 -->\r\n    <mvc:default-servlet-handler />\r\n    <!-- spring mvc 扫描包下的controller -->\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.settings.web.controller\"/>\r\n    <context:component-scan base-package=\"com.bjpowernode.crm.workbench.web.controller\"/>\r\n    <!-- 配置注解驱动 -->\r\n    <mvc:annotation-driven/>\r\n    <!-- 配置视图解析器 -->\r\n    <bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n        <property name=\"prefix\" value=\"/WEB-INF/pages/\"/>\r\n        <property name=\"suffix\" value=\".jsp\"/>\r\n    </bean>\r\n<!--    配置拦截器，实现登录验证-->\r\n    <mvc:interceptors>\r\n        <mvc:interceptor>\r\n            <!--拦截的controller资源-->\r\n            <mvc:mapping path=\"/settings/**\"/>\r\n            <mvc:mapping path=\"/workbench/**\"/>\r\n            <!--在拦截的资源中需要放行的资源（优先级高）-->\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toLogin.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/login.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/toRegister.do\"/>\r\n            <mvc:exclude-mapping path=\"/settings/qx/user/register.do\"/>\r\n            <bean class=\"com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor\"/>\r\n        </mvc:interceptor>\r\n    </mvc:interceptors>\r\n    <!-- 配置文件上传解析器 id:必须是multipartResolver-->\r\n<!--    <bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\">-->\r\n<!--        <property name=\"maxUploadSize\" value=\"#{1024*1024*5}\"/>-->\r\n<!--        <property name=\"defaultEncoding\" value=\"utf-8\"/>-->\r\n<!--    </bean>-->\r\n</beans>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- crm/target/crm/WEB-INF/classes/applicationContext-mvc.xml	(revision 4cc6effa892179f2d52345f30e0d1ebc58ba29bd)
+++ crm/target/crm/WEB-INF/classes/applicationContext-mvc.xml	(date 1656818897469)
@@ -47,9 +47,9 @@
             <bean class="com.bjpowernode.crm.settings.web.interceptor.LoginInterceptor"/>
         </mvc:interceptor>
     </mvc:interceptors>
-    <!-- 配置文件上传解析器 id:必须是multipartResolver-->
-<!--    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">-->
-<!--        <property name="maxUploadSize" value="#{1024*1024*5}"/>-->
-<!--        <property name="defaultEncoding" value="utf-8"/>-->
-<!--    </bean>-->
+<!--     配置文件上传解析器 id:必须是multipartResolver-->
+    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
+        <property name="maxUploadSize" value="#{1024*1024*5}"/>
+        <property name="defaultEncoding" value="utf-8"/>
+    </bean>
 </beans>
\ No newline at end of file
